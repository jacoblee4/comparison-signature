****Code for button
function onClick(g_form) {

    var letter_date = g_form.getValue('letter_date');
    var index_number = g_form.getValue('index_number');
    var plaintiff = g_form.getValue('plaintiff');
    var defendant = g_form.getValue('defendant');
    var county = g_form.getValue('county');

    if (!letter_date || !index_number || !plaintiff || !defendant || !county) {
        g_form.addErrorMessage('Please fill out the letter details before generating.');
        return;
    }

    var pdfName = defendant + ' Letter ' + letter_date;

    var ga = new GlideAjax('x_banun_legal_cust.LegalCustomerVerificationUtils');
    ga.addParam('sysparm_name', 'generateLetter');
    ga.addParam('sysparm_recordId', g_form.getUniqueValue());
    ga.addParam('sysparm_documentTemplateId', 'd7ffcec11beed650f5b0cbfa234bcb5f');
    ga.addParam('sysparm_pdfName', pdfName);
    ga.getXML(parseResponse);

    function parseResponse(response) {
        var answer = response.responseXML.documentElement.getAttribute("answer");

        if (answer == 'success') {
			g_form.setValue('letter_generated', 'yes');
            g_form.addInfoMessage("Letter generated and attached");
			g_form.save();
        } else {
			g_form.setValue('letter_generated', 'no');
            g_form.addErrorMessage("Error generating letter");
        }
    }
}



**** Script include code:
generateLetter: function() {
        try {
            var recordId = this.getParameter('sysparm_recordId');
            var documentTemplateId = this.getParameter('sysparm_documentTemplateId');
            var pdfName = this.getParameter('sysparm_pdfName');

            new sn_doc.GenerateDocumentAPI().generateDocumentForTask(recordId, documentTemplateId, pdfName);
            return "success";
        } catch (e) {
			gs.error("Legal Customer ERROR: " + e.message);
            return ("error");
        }
    },
